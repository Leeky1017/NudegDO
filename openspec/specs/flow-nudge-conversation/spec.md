# FLOW-003: Nudge 对话流程

## 概述
Nudge 模式下的完整对话交互流程，包括问题展示、用户回答、任务创建。

## 需求

### 功能需求
- [ ] R1: 展开面板后显示任务文本
- [ ] R2: 根据当前人格生成 2-3 个追问问题
- [ ] R3: 问题逐个淡入显示（stagger 动画）
- [ ] R4: 用户在文本框中回答问题
- [ ] R5: 点击"确认并创建任务"完成流程
- [ ] R6: 点击"取消"关闭面板，不创建任务
- [ ] R7: 创建的任务包含对话历史

### 流程图
```
Nudge 面板展开
      ↓
  显示任务文本 + AI 人格信息
      ↓
  调用 LLM 生成追问问题（或使用模板）
      ↓
  问题逐个淡入显示
      ↓
  用户输入回答
      ↓
  [确认] → 创建任务（含对话历史）→ 关闭面板 → 清空输入
  [取消] → 关闭面板 → 保留输入
```

### 对话历史结构
```typescript
chat: [
  { role: 'ai', content: '关于「任务」，问题1？' },
  { role: 'user', content: '用户回答...' },
  { role: 'ai', content: '好的，任务已创建！' }
]
```

## 验收标准
1. 问题正确显示
2. 用户可输入回答
3. 确认后任务包含对话历史
4. 取消后不创建任务
